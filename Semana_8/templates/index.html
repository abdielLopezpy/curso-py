{# ============================================================================
   PÁGINA DE INICIO
   ============================================================================
   Esta es la página principal de la aplicación.
   Muestra estadísticas y accesos rápidos a las secciones.

   PARA MODIFICAR:
   - Cambia las estadísticas según tu aplicación
   - Agrega más tarjetas para nuevas secciones
   ============================================================================ #}

{% extends "base.html" %}

{# Importamos los macros que vamos a usar #}
{% from "macros.html" import stat_card, boton %}

{% block title %}Inicio - Flask + Neon{% endblock %}

{% block content %}

{# ============================================================================
   TÍTULO Y DESCRIPCIÓN
   ============================================================================ #}
<h1>Bienvenido a la Aplicación</h1>

<p class="text-muted mb-4">
    Esta es una aplicación de ejemplo para aprender Flask con Neon (PostgreSQL).
    Explora las secciones de Categorías y Productos para ver el CRUD completo.
</p>


{# ============================================================================
   ESTADÍSTICAS
   ============================================================================
   Las estadísticas se pasan desde Python en app_flask.py:

   return render_template('index.html',
       total_categorias=session.query(Categoria).count(),
       total_productos=session.query(Producto).count(),
       ...
   )

   Usamos el macro stat_card para mostrar cada estadística.
   ============================================================================ #}
<div class="grid-4 mb-5">
    {# Cada stat_card recibe: número, etiqueta #}
    {{ stat_card(total_categorias, 'Categorías') }}
    {{ stat_card(total_productos, 'Productos') }}
    {{ stat_card(productos_activos, 'Activos') }}
    {{ stat_card(productos_sin_stock, 'Sin Stock') }}
</div>


{# ============================================================================
   ACCIONES RÁPIDAS
   ============================================================================
   Tarjetas con enlaces directos a las acciones más comunes.
   ============================================================================ #}
<h2>Acciones Rápidas</h2>

<div class="grid-2 mb-4">
    {# Tarjeta de Categorías #}
    <div class="card card-hover">
        <div class="card-body">
            <h3>Categorías</h3>
            <p class="text-muted">
                Gestiona las categorías de productos.
            </p>
            <div class="btn-group">
                {{ boton('Ver todas', 'primary', url=url_for('listar_categorias')) }}
                {{ boton('+ Nueva', 'success', url=url_for('crear_categoria')) }}
            </div>
        </div>
    </div>

    {# Tarjeta de Productos #}
    <div class="card card-hover">
        <div class="card-body">
            <h3>Productos</h3>
            <p class="text-muted">
                Gestiona el catálogo de productos.
            </p>
            <div class="btn-group">
                {{ boton('Ver todos', 'primary', url=url_for('listar_productos')) }}
                {{ boton('+ Nuevo', 'success', url=url_for('crear_producto')) }}
            </div>
        </div>
    </div>
</div>


{# ============================================================================
   INFORMACIÓN DEL PROYECTO
   ============================================================================ #}
<div class="card">
    <div class="card-body">
        <h3>Sobre esta aplicación</h3>
        <p class="text-muted mt-3">
            Esta aplicación demuestra cómo crear un sistema web completo usando:
        </p>
        <ul class="text-muted">
            <li><strong>Flask</strong> - Framework web minimalista de Python</li>
            <li><strong>SQLAlchemy</strong> - ORM para trabajar con bases de datos</li>
            <li><strong>Neon</strong> - PostgreSQL serverless en la nube</li>
            <li><strong>Jinja2</strong> - Motor de plantillas HTML</li>
        </ul>
    </div>
</div>

{% endblock %}
